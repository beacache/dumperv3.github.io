<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Offsets Download</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font: Inter (Standard, Clean) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">

    <style>
        body {
            background-color: #050505;
            color: #ffffff;
            font-family: 'Inter', sans-serif;
        }

        /* Clean Card Style - Matches your image */
        .item-card {
            background-color: #0a0a0a;
            border: 1px solid #1a1a1a;
            border-radius: 6px;
            padding: 20px;
            cursor: pointer;
            transition: background-color 0.15s ease, border-color 0.15s ease;
        }

        .item-card:hover {
            background-color: #0f0f0f;
            border-color: #2a2a2a;
        }

        /* Text colors to match reference */
        .text-sub { color: #888888; }
        .text-ver { color: #3b82f6; } /* Blue for version */

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #222; border-radius: 4px; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-6">

    <div class="w-full max-w-2xl">
        
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-2xl font-bold mb-1">Offsets Download</h1>
            <p class="text-sub text-sm">Choose your preferred format</p>
        </div>

        <!-- List Container -->
        <div class="flex flex-col gap-3">

            <!-- offsets.hpp -->
            <div onclick="openModal('hpp')" class="item-card">
                <h3 class="font-semibold text-sm mb-1">offsets.hpp</h3>
                <p class="text-sub text-xs">C++ header file format for seamless integration</p>
            </div>

            <!-- offsets.json -->
            <div onclick="openModal('json')" class="item-card">
                <h3 class="font-semibold text-sm mb-1">offsets.json</h3>
                <p class="text-sub text-xs">JSON format data for universal compatibility</p>
            </div>

            <!-- offsets.lua -->
            <div onclick="openModal('lua')" class="item-card">
                <h3 class="font-semibold text-sm mb-1">offsets.lua</h3>
                <p class="text-sub text-xs">Lua script format for external usage</p>
            </div>

            <!-- fflags.hpp (Optional extra) -->
            <div onclick="openModal('fflags')" class="item-card">
                <h3 class="font-semibold text-sm mb-1">fflags.hpp</h3>
                <p class="text-sub text-xs">C++ header file with Roblox FFlags</p>
            </div>

        </div>

        <!-- Version Footer -->
        <div class="mt-8 item-card text-center cursor-default hover:bg-[#0a0a0a] hover:border-[#1a1a1a]">
            <p class="text-sub text-xs mb-1">Current Version</p>
            <p class="text-ver font-mono text-xs" id="version-text">version-loading...</p>
        </div>

    </div>

    <!-- Minimal Modal -->
    <div id="modal" class="fixed inset-0 z-50 hidden bg-black/80 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-[#0f0f0f] border border-[#222] rounded-lg w-full max-w-3xl flex flex-col max-h-[80vh] shadow-2xl">
            
            <!-- Modal Header -->
            <div class="flex items-center justify-between p-4 border-b border-[#222]">
                <span id="modal-title" class="font-mono text-sm text-gray-300">filename.ext</span>
                <button onclick="closeModal()" class="text-gray-500 hover:text-white transition-colors">âœ•</button>
            </div>

            <!-- Code Area -->
            <div class="flex-1 overflow-auto p-0 bg-[#080808]">
                <pre class="p-4"><code id="modal-content" class="font-mono text-xs text-gray-300 whitespace-pre-wrap">Loading from GitHub...</code></pre>
            </div>

            <!-- Modal Actions -->
            <div class="p-4 border-t border-[#222] flex gap-3">
                <button onclick="copyContent()" class="flex-1 bg-white text-black text-sm font-medium py-2 rounded hover:bg-gray-200 transition">
                    Copy Raw
                </button>
                <button onclick="downloadFile()" class="px-6 border border-[#333] text-white text-sm font-medium py-2 rounded hover:bg-[#222] transition">
                    Download
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        const GITHUB_USERNAME = "YourUsername"; 
        const GITHUB_REPO = "YourRepo";       
        const BRANCH = "main";                  
        // ---------------------

        // Generate a pseudo-version based on date (matches image style)
        const date = new Date();
        const verStr = `version-${date.getTime().toString(16)}`;
        document.getElementById('version-text').innerText = verStr;

        const files = {
            'hpp': 'offsets.hpp',
            'json': 'offsets.json',
            'lua': 'offsets.lua',
            'fflags': 'fflags.hpp'
        };

        let currentContent = "";
        let currentFilename = "";

        async function openModal(type) {
            const filename = files[type];
            currentFilename = filename;
            
            document.getElementById('modal').classList.remove('hidden');
            document.getElementById('modal-title').innerText = filename;
            document.getElementById('modal-content').innerText = "Fetching from GitHub...";
            document.getElementById('modal-content').classList.remove('text-red-500');

            // Fetch logic
            try {
                const url = `https://raw.githubusercontent.com/${GITHUB_USERNAME}/${GITHUB_REPO}/${BRANCH}/${filename}`;
                const res = await fetch(url);
                
                if (!res.ok) throw new Error("File not found or private repo");
                
                currentContent = await res.text();
                document.getElementById('modal-content').innerText = currentContent;
            } catch (e) {
                currentContent = "";
                document.getElementById('modal-content').innerText = `Error: ${e.message}\n\nMake sure the GitHub username/repo is correct in the script.`;
                document.getElementById('modal-content').classList.add('text-red-500');
            }
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
        }

        function copyContent() {
            if (!currentContent) return;
            navigator.clipboard.writeText(currentContent);
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "Copied!";
            setTimeout(() => btn.innerText = originalText, 1500);
        }

        function downloadFile() {
            if (!currentContent) return;
            const blob = new Blob([currentContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = currentFilename;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") closeModal();
        });
    </script>
</body>
</html>
